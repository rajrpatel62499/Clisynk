<div class="profile-section">

    <div class="contact-header">

        <div class="Clients_list_heading">
            <h3 class="inter-page-heading">Business Profile</h3>
            <div class="btn-combobox">
                <button class="back-btn" (click)="http.goBack()" >Back</button>
                <!-- <button type="button" class="add-user-btn"
                            (click)="http.navigate('money')"> Manage Multiple Business profile
                </button> -->
                <button (click)="finalSubmit()" type="button"  [disabled]="isUpdating" class="btn btn-outline-primary">
                    <i class="fa " [ngClass]="{'fa-spinner fa-spin': isUpdating}" aria-hidden="true"></i>
                    Update business profile
                </button>
            </div>
        </div>

        <form [formGroup]="form"  autocomplete="off" class="bussines-profile-form">


            <div class="main-details-business-adding">
                    <div class="left-col-business">

                        <div class="form-width">
                            <div class="bussnies-update">
                                <h3>Update your business details</h3>
                                <p> Please enter your business details. This information will display in your email footer in compliance
                                    with international spam laws.</p>
                            </div>

                            <div class="row margin-bottom-25">
                                    <div class="col-md-6 ">
                                        <div class="input-field btn-group add-btn select-opt">
                                            <mat-form-field class="full-width select-height" appearance="outline">
                                                <mat-label class="abc">Business type</mat-label>
                                                <mat-select formControlName="businessType">
                                                    <mat-option *ngFor="let val of myModel?.businessTypes" [value]="val.value">
                                                        {{val?.key}}</mat-option>
                                                </mat-select>
                                            </mat-form-field>
                                        </div>
                                    </div>
                                    <div class="col-md-6">
                                        <div class="input-field">
                                            <mat-form-field class="full-width" appearance="outline" hintLabel="Max 26 characters">
                                                <mat-label class="required">Business Name</mat-label>
                                                <input 
                                                    appInputRestriction="noSpecialChars"
                                                    matInput type="text" formControlName="name" maxlength="26" #input1>
                                                <mat-error *ngIf="form.controls['name'].hasError('required')">
                                                    Please enter business name.
                                                </mat-error>
                                                <mat-hint align="end">{{input1.value?.length || 0}}/26</mat-hint>
                                            </mat-form-field>
                                        </div>
                                    </div>


                            </div>

                            <div class="input-field margin-bottom-25">
                                <mat-form-field class="full-width" appearance="outline">
                                    <mat-label>Website</mat-label>
                                    <input matInput type="text"
                                        formControlName="website">
                                    <mat-error
                                            *ngIf="form.controls['website'].hasError('pattern')">
                                        Please enter valid website url.
                                    </mat-error>
                                </mat-form-field>
                            </div>
            
                            <div class="form-label">Phone and Email</div>
                            <div class="row margin-bottom-25">
                                    <div class="col-md-6">
                                        <div class="input-field">
                                            <mat-form-field class="full-width" appearance="outline">
                                                <mat-label class="required">Business Phone</mat-label>
                                                <input matInput type="text" appNumberOnly maxlength="15"
                                                    formControlName="phone">
                                                <mat-error *ngIf="form.controls['phone'].hasError('required')">
                                                    Please enter business phone.
                                                </mat-error>
                                            </mat-form-field>
                                        </div>
                                    </div>
                                    <div class="col-md-6">
                                        <div class="input-field">
                                            <mat-form-field class="full-width" appearance="outline">
                                                <mat-label class="required">Business Email</mat-label>
                                                <input matInput type="text"
                                                    formControlName="email">
                                                <mat-error *ngIf="form.controls['email'].hasError('required')">
                                                    Please enter email.
                                                </mat-error>
                                                <mat-error
                                                        *ngIf="form.controls['email'].hasError('pattern')">
                                                    Please enter valid email.
                                                </mat-error>
                                            </mat-form-field>
                                        </div>
                                    </div>


                            </div>


                            <div class="form-label">Business Address</div>
                            <div class="input-field  margin-bottom-10">
                                <mat-form-field class="full-width" appearance="outline">
                                    <mat-label class="required">Address 1</mat-label>
                                    <input matInput type="text" #address formControlName="address1"
                                        (addressSelect)="addressDetails($event)"
                                        appGoogleplace onkeydown="return (event.keyCode!==13);">
                                    <mat-error *ngIf="form.controls['address1'].hasError('required')">
                                        Please enter Address 1.
                                    </mat-error>
                                </mat-form-field>
                            </div>
            
                            <!-- <div class="input-field  margin-bottom-10">
                                <mat-form-field class="full-width" appearance="outline">
                                    <mat-label>Address 2</mat-label>
                                    <input matInput type="text" formControlName="address2">
                                </mat-form-field>
                            </div> -->
            
                            <div class="row  margin-bottom-10">
                                <div class="col-md-6">
                                    <div class="input-field">
                                        <mat-form-field class="full-width" appearance="outline">
                                            <mat-label class="required">Country</mat-label>
                                            <input matInput type="text" formControlName="country">
                                            <mat-error *ngIf="form.controls['country'].hasError('required')">
                                                Please enter country.
                                            </mat-error>
                                        </mat-form-field>
                                    </div>
                                </div>

                                <div class="col-md-6">
                                    <div class="input-field">
                                        <mat-form-field class="full-width" appearance="outline">
                                            <mat-label class="required">City</mat-label>
                                            <input matInput type="text" id="myId" formControlName="city">
                                            <mat-error *ngIf="form.controls['city'].hasError('required')">
                                                Please enter city.
                                            </mat-error>
                                        </mat-form-field>
                                    </div>
                                </div>

                                <div class="col-md-6">
                                    <div class="input-field">
                                        <mat-form-field class="full-width" appearance="outline">
                                            <mat-label class="required">State</mat-label>
                                            <input matInput type="text" formControlName="state">
                                            <mat-error *ngIf="form.controls['state'].hasError('required')">
                                                Please enter state.
                                            </mat-error>
                                        </mat-form-field>
                                    </div>
                                </div>
            
                                <div class="col-md-6">
                                    <div class="input-field">
                                        <mat-form-field class="full-width" appearance="outline">
                                            <mat-label class="required">Zip code</mat-label>
                                            <input matInput type="text" formControlName="postalCode" maxlength="8" appNumberOnly="">
                                            <mat-error *ngIf="form.controls['postalCode'].hasError('required')">
                                                Please enter zip code.
                                            </mat-error>
                                            <mat-error *ngIf="form.controls['postalCode'].hasError('maxlength')">
                                                Zip code can not exceeds 8 character.
                                            </mat-error>
                                        </mat-form-field>
                                    </div>
                                </div>
                            </div>
            
        
                        </div>
                    </div>

                    <div class="right-col-business">
                        <div class="form-width">
                            <div class="row">
                                <div class="bussnies-update">
                                    <h3>Update your brand settings</h3>
                                    <p>Your logo and colors will appear when you create quotes, invoices, campaigns, emails, landing
                                        pages, and more.</p>
                                </div>
                            </div>
                            
                            <div class="upload-images-custom-main">

                                <div class="border-dashed">
                                    <div class="uploaded-img text-center" *ngIf="form.value.imageThumbnail">
                                    <span class="clear-icon"
                                            (click)="form.controls.imageThumbnail.patchValue('');form.controls.imageOriginal.patchValue('')">
                                            <img src="../../../../assets/images/New-ui-images/close-white.svg">
                                    </span>
                                        <img [src]="form?.value?.imageThumbnail"
                                            class="thumb-img">
                                    </div>
                

                                    <div class="file-upload clickable "
                                        *ngIf="!form.value.imageThumbnail">
                                       
                                        <section *ngIf="!loading" id="initial-info" class="no-pointer-events">
                                            <h4 class="label semibold"> Upload logo image </h4>
                                            <img src="../../../../assets/images/New-ui-images/upload-icon-img.svg">
                                            <h6 class="allowedFilesLabel">file formate jpg, jpeg, png</h6>
                                        </section>
                    
                                        <section *ngIf="loading" id="initial-info" class="no-pointer-events">
                                            <h4 class="label semibold"> Uploading...</h4>
                                        </section>
                                        <div class="browse-text">
                                            Browse
                                            <input accept="image/x-png,image/gif,image/jpeg" multiple="" type="file"
                                                (change)="uploadImage($event.target.files[0])">
                                        </div>
                                        <mat-error
                                                *ngIf="form.controls['imageThumbnail'].hasError('required') && form.controls.imageThumbnail.touched">
                                            Please upload image.
                                        </mat-error>
                                    </div>
                                </div>
                            </div>
            
                            <br>
                            <!-- <div class="input-field">
                                <div class="row">
            
                                    <div class="col-md-6 form-group my-picker">
                                        <label>Primary color</label>
                                        <div class="input-group" [(colorPicker)]="color1">
                                            <input type="text" class="form-control" readonly
                                                aria-describedby="btnGroupAddon" [value]="color1">
                                            <div class="input-group-prepend">
                                                <div class="input-group-text" id="btnGroupAddon" [style.border-color]="color1"
                                                    [style.background]="color1">
                                                </div>
                                            </div>
                                        </div>
                                    </div>
            
                                    <div class="col-md-6 form-group my-picker">
                                        <label>Secondary color</label>
                                        <div class="input-group" [(colorPicker)]="color2">
                                            <input type="text" class="form-control" readonly
                                                aria-describedby="btnGroupAddon" [value]="color2">
                                            <div class="input-group-prepend">
                                                <div class="input-group-text" [style.border-color]="color2"
                                                    [style.background]="color2">
                                                </div>
                                            </div>
                                        </div>
                                    </div>
            
                                </div>
                            </div> -->

                            <!-- <div class="button-row">
                                <button type="submit" [disabled]="isUpdating" class="btn btn-outline-primary">
                                    <i class="fa " [ngClass]="{'fa-spinner fa-spin': isUpdating}" aria-hidden="true"></i>
                                    Update business profile
                                </button>
                            </div> -->
                        </div>
                    </div>



            </div>


            
        </form>

    </div>

</div>

