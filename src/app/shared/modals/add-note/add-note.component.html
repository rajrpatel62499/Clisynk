<div class="med-popup">

    <div class="modal-header email_str_header">
        <section class="text">
            <h4>Add Notes</h4>
        </section>
        <section id="close" class="navigation">
            <button class="icon-only" type="button" aria-label="Close" (click)="http.hideModal()">
                <img src="/assets/images/ic_close.svg">
            </button>
        </section>
    </div>
    <form [formGroup]="form" (ngSubmit)="finalSubmit()" autocomplete="off">
        <div class="modal-body">

            <div class="row" *ngIf="!this.contactId">

                <div class="col-md-12 input-group btn-group add-btn select-opt">
                    <mat-form-field class="select-height full-width" appearance="outline">
                        <mat-label class="required">Contact</mat-label>
                        <input matInput class="form-control py-2" type="search" value="" placeholder="Search contacts"
                               [formControl]="myControl" [matAutocomplete]="auto"
                               (input)="getList($event.target.value)" (blur)="clearSearch()"
                               (click)="myControl.patchValue('')">
                        <mat-autocomplete autoActiveFirstOption #auto="matAutocomplete"
                                          (optionSelected)="finalSelected()">
                            <mat-option *ngFor="let val of contacts" [value]="val">
                                {{val?.firstName}} {{val?.lastName}}
                            </mat-option>
                        </mat-autocomplete>
                        <mat-icon matSuffix>keyboard_arrow_down</mat-icon>
                        <mat-error *ngIf="myControl.hasError('required')">
                            Please select contact.
                        </mat-error>
                    </mat-form-field>
                </div>
            </div>


            <div class="row">
                <div class="col-md-12">
                    <mat-form-field class="full-width" appearance="outline">
                        <mat-label class="required">Note</mat-label>
                        <textarea matInput placeholder="Note" formControlName="text"
                                  rows="7"> </textarea>
                        <mat-error *ngIf="form.controls['text'].hasError('required')">
                            Please enter note.
                        </mat-error>
                    </mat-form-field>
                </div>
            </div>

            <div class="modal-footer footer-btn text-left">
                <button type="submit" class="btn btn-outline-primary">Save Note</button>
            </div>
        </div>
    </form>
</div>
