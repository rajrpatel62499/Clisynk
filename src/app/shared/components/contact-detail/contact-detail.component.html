<div class="w-100">
    <div class="tab-content" id="v-pills-tabContent" style="width: 100%">
        <div class="tab-pane fade show active" id="v-pills-home" role="tabpanel" aria-labelledby="v-pills-home-tab">

            <div class="text-center modal-text contact_activity_page">
                <section id="close" class="navigation">
                    <button class="icon-only" type="button" aria-label="Close" (click)="closeFun()">
                        <img src="/assets/images/ic_close.svg" style="margin: 10px">
                    </button>
                </section>
                <!-- ----------------------------------OLD-CODE----------------------------- -->
                <!-- <div class="toggle-btn-group">
                    <mat-button-toggle-group #group="matButtonToggleGroup" class="full-width"
                                             [formControl]="contactsType">
                        <mat-button-toggle value="1" aria-label="Text align left" class="full-width"
                                           (change)="onTypeChange($event.value)"
                                           [ngClass]="{'lead-type':contactsType.value == 1}">
                            Lead <i class="fas fa-circle"></i>
                        </mat-button-toggle>
                        <mat-button-toggle value="2" aria-label="Text align center" class="full-width"
                                           (change)="onTypeChange($event.value)">
                            Client <i class="fas fa-circle " [ngClass]="{'client-type':contactsType.value == 2}"></i>
                        </mat-button-toggle>
                        <mat-button-toggle value="3" aria-label="Text align right" class="full-width "
                                           (change)="onTypeChange($event.value)">
                            Other <i class="fas fa-circle" [ngClass]="{'other-type':contactsType.value == 3}"></i>
                        </mat-button-toggle>
                    </mat-button-toggle-group>
                </div>

                <span class="circle" *ngIf="!selected?.imageUrl?.thumbnail">
                    {{selected?.firstName?.substr(0, 1)}}{{selected?.lastName?.substr(0, 1)}}
                </span>
                <img *ngIf="selected?.imageUrl?.thumbnail"
                     src="{{selected?.imageUrl?.thumbnail || http.CONSTANT.USER_PLACEHOLDER}}" class="con-pic" alt=""/>
                <h3>{{selected?.firstName}} {{selected?.lastName}}</h3>
                <p>{{selected?.email}}
                    <ng-container *ngIf="selected?.phoneNumber">{{selected?.countryCode}} {{selected?.phoneNumber}}
                    </ng-container>
                </p> 

                <div class="iconlist">
                    <div class="row">
                        <div class="text-center col-12">

                            <ul class="list-group list-group-horizontal">

                                <li class="list-group-item" (click)="activeIcon = 1;getDetails()"
                                    [ngClass]="{'active':activeIcon === 1}">
                                    <i class="fas fa-heartbeat"></i>
                                    <label>Activity</label>
                                </li>
                                <li class="list-group-item" [ngClass]="{'active':activeIcon === 2}"
                                    (click)="activeIcon = 2;getDetails()">
                                    <i class="far fa-user"></i>
                                    <label>Details</label>
                                </li>
                                <li class="list-group-item " (click)="activeIcon = 3;getDetails()"
                                    [ngClass]="{'active':activeIcon === 3}">
                                    <i class="far fa-envelope"></i>
                                    <label>Email</label>
                                </li>
                                <li class="list-group-item" (click)="checkLink('appointments')"
                                    [ngClass]="{'active':activeIcon === 4}">
                                    <i class="far fa-calendar"></i>
                                    <label>Meet</label>
                                </li>


                                <li class="list-group-item" (click)="checkLink('money')"
                                    [ngClass]="{'active':activeIcon === 5}">
                                    <i class="fas fa-dollar-sign"></i>
                                    <label>Money</label>
                                </li>

                                <li class="list-group-item" (click)="activeIcon = 6;getDetails()"
                                    [ngClass]="{'active':activeIcon === 6}">
                                   

                                    <div class="btn-group" dropdown>
                                        <button id="add-contact1" dropdownToggle type="button"
                                                class="btn dropdown-toggle " aria-controls="dropdown-basic">
                                            <i class="fas fa-ellipsis-h"></i>
                                            <label>More</label>
                                        </button>

                                        <ul id="add-contact1" *dropdownMenu class="dropdown-menu" role="menu"
                                            aria-labelledby="button-basic">

                                            <li role="menuitem" (click)="checkLink('tasks')">
                                                <a class="dropdown-item">
                                                    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"
                                                         id="tasks">
                                                        <path d="M19 1a2 2 0 0 1 2 2v18a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V3a2 2 0 0 1 2-2zm0 2H5v18h14zm-6.5 15a.5.5 0 0 1 0 1h-5a.5.5 0 0 1 0-1zm4-3a.5.5 0 0 1 0 1h-9a.5.5 0 0 1 0-1zm-.793-8.707a1 1 0 0 1 0 1.414l-4 4a1 1 0 0 1-1.414 0l-2-2a1 1 0 0 1 1.414-1.414L11 9.586l3.293-3.293a1 1 0 0 1 1.414 0z"
                                                              fill-rule="evenodd"></path>
                                                    </svg>
                                                    Tasks
                                                </a></li>

                                            <li role="menuitem"><a class="dropdown-item" (click)="moreSection ='notes'">
                                                <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"
                                                     id="notes">
                                                    <path
                                                            d="M5 1a1 1 0 0 1 0 2H4v18h1a1 1 0 1 1 0 2H4a2 2 0 0 1-2-2V3a2 2 0 0 1 2-2zm11.086 0a2 2 0 0 1 1.414.586L21.414 5.5A2 2 0 0 1 22 6.914V21a2 2 0 0 1-2 2H9a2 2 0 0 1-2-2V3a2 2 0 0 1 2-2zM15 3H9v18h11V8h-4a1 1 0 0 1-1-1zm2.5 14a.5.5 0 0 1 0 1h-6a.5.5 0 0 1 0-1zm0-3a.5.5 0 0 1 .09.992L17.5 15h-6a.5.5 0 0 1-.09-.992L11.5 14zm-4-5a.5.5 0 0 1 0 1h-2a.5.5 0 0 1 0-1zM17 3.914V6h2.086z"
                                                            fill-rule="evenodd"></path>
                                                </svg>
                                                Notes
                                            </a>
                                            </li>

                                            <li role="menuitem">
                                                <a class="dropdown-item" (click)="moreSection ='files'">
                                                    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"
                                                         id="save">
                                                        <path
                                                                d="M5 2h10a1 1 0 0 1 .608.206l.1.087 6 6a1 1 0 0 1 .283.576L22 9v10a3 3 0 0 1-2.802 2.993L19 22H5a3 3 0 0 1-2.993-2.802L2 19V5a3 3 0 0 1 2.802-2.993L5 2h10zm3 2H5a1 1 0 0 0-1 1v14a1 1 0 0 0 1 1h1v-6a1 1 0 0 1 1-1h10a1 1 0 0 1 1 1v6h1a1 1 0 0 0 1-1V9.414L14.586 4H10v4h5a1 1 0 1 1 0 2H9a1 1 0 0 1-1-1zm8 11H8v5h8z"
                                                                fill-rule="evenodd"></path>
                                                    </svg>
                                                    Files
                                                </a>
                                            </li>

                                            <li role="menuitem">
                                                <a class="dropdown-item" (click)="moreSection ='tags'">
                                                    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"
                                                         id="tag">
                                                        <path
                                                                d="M11.586 2A2 2 0 0 1 13 2.586l9 9a2 2 0 0 1 0 2.828L14.414 22a2 2 0 0 1-2.828 0l-9-9A2 2 0 0 1 2 11.586V3a1 1 0 0 1 1-1zm0 2H4v7.586l9 9L20.586 13zM7 6a1 1 0 1 1 0 2 1 1 0 0 1 0-2z"
                                                                fill-rule="evenodd"></path>
                                                    </svg>
                                                    Tags
                                                </a>
                                            </li>

                                        </ul>
                                    </div>
                                </li>
                            </ul>

                        </div>
                    </div>
                </div> -->

                <!-- -----------------------NEW-CODE-------------------------->
                <div class="details-main">
                    <div class="main-avatar" *ngIf="!selected?.imageUrl?.thumbnail">{{selected?.firstName?.substr(0,
                        1)}}{{selected?.lastName?.substr(0, 1)}}</div>
                    <div class="name-id">{{selected?.firstName}} {{selected?.lastName}}</div>
                    <div class="main-email-row">
                        <div class="email-icon"> {{selected?.email}}</div>
                        <div class="call-phone" *ngIf="selected?.phoneNumber">
                            {{selected?.countryCode}}{{selected?.phoneNumber}}</div>
                    </div>
                    <div class="comman-tags-main">
                        <div [ngClass]="{'employee-tag':contactsType.value == 4}" (click)="onTypeChange(4)"
                            class="tags-main">
                            Employee
                        </div>
                        <div [ngClass]="{'lead-tag':contactsType.value == 1}" (click)="onTypeChange(1)"
                            class="tags-main">
                            Lead
                        </div>
                        <div [ngClass]="{'client-tag':contactsType.value == 2}" (click)="onTypeChange(2)"
                            class="tags-main">
                            Client
                        </div>
                        <div [ngClass]="{'other-tag':contactsType.value == 3}" (click)="onTypeChange(3)"
                            class="tags-main">
                            Other
                        </div>
                    </div>
                </div>

                <div class="tabs-pills-main">
                    <div class="comman-grid" (click)="activeIcon = 1;getDetails()"
                        [ngClass]="{'active':activeIcon === 1}">
                        <div class="img-icon">
                            <svg width="27" height="25" viewBox="0 0 27 25" fill="none"
                                xmlns="http://www.w3.org/2000/svg">
                                <path
                                    d="M16.9241 9.56956H16.8338L16.7915 9.64929L14.2243 14.4902L11.3552 6.02764L11.2613 5.75064L11.0912 5.98854L7.15 11.4989C6.82768 11.4972 5.84544 11.4939 4.90427 11.491L3.50068 11.4868L3.04692 11.4855L2.96221 11.4853C2.45297 10.5922 2.18109 9.57833 2.18109 8.52175C2.18109 6.91922 2.80476 5.41347 3.93795 4.28029L4.28372 3.93451C5.45296 2.76528 6.98868 2.18059 8.52508 2.18059C10.0615 2.18059 11.5973 2.76528 12.7665 3.93451L12.8726 3.82845L12.7665 3.93452L13.394 4.56199L13.5001 4.66805L13.6062 4.56197L14.2335 3.93451C14.2335 3.93451 14.2335 3.93451 14.2335 3.9345C16.5721 1.59592 20.3776 1.59592 22.7162 3.93451L23.0621 4.28034C24.1952 5.41347 24.8189 6.91921 24.8189 8.52175C24.8189 8.8768 24.7882 9.22709 24.7282 9.56956H16.9241ZM7.75393 12.6848L7.7529 12.8348L7.83068 12.8353L7.87594 12.772L10.8341 8.63616L13.8428 17.5107L13.9544 17.8401L14.1174 17.5328L17.6346 10.9007H24.3304C24.0339 11.5869 23.6071 12.2181 23.0621 12.7631L13.5 22.3251L3.99144 12.8166C4.50475 12.8167 5.29435 12.8202 6.01839 12.8242C6.47889 12.8266 6.91253 12.8293 7.23104 12.8313L7.61141 12.8338L7.71615 12.8345L7.74354 12.8347L7.75054 12.8347L7.7523 12.8348L7.75275 12.8348H7.75286L7.75393 12.6848ZM2.99668 13.7043L3.10275 13.5983L2.99668 13.7043L13.394 24.1015L13.5 24.2076L13.6061 24.1015L24.0033 13.7043C25.3874 12.3203 26.15 10.4792 26.15 8.52175C26.15 6.56425 25.3874 4.72324 24.0033 3.33913L23.8973 3.44519L24.0033 3.33913L23.6575 2.9933C20.8679 0.203726 16.3711 0.137273 13.5 2.79347C10.6288 0.137275 6.13203 0.203777 3.34246 2.99335L2.99668 3.33913C1.61257 4.72324 0.85 6.56425 0.85 8.52175C0.85 10.4791 1.61257 12.3202 2.99668 13.7043Z"
                                    fill="#979797" stroke="#979797" stroke-width="0.3" />
                            </svg>
                        </div>
                        <div class="tab-name">Activity</div>
                    </div>
                    <div class="comman-grid" [ngClass]="{'active':activeIcon === 2}"
                        (click)="activeIcon = 2;getDetails()">
                        <div class="img-icon">
                            <svg width="21" height="23" viewBox="0 0 21 23" fill="none"
                                xmlns="http://www.w3.org/2000/svg">
                                <path
                                    d="M10.5 12.6932C3.72901 12.6932 0 15.8964 0 21.7128C0 22.1671 0.368179 22.5353 0.822449 22.5353H20.1776C20.6318 22.5353 21 22.1671 21 21.7128C21 15.8967 17.271 12.6932 10.5 12.6932ZM1.67483 20.8904C1.99833 16.5415 4.96326 14.3381 10.5 14.3381C16.0368 14.3381 19.0018 16.5415 19.3255 20.8904H1.67483Z"
                                    fill="#979797" />
                                <path
                                    d="M10.5 0C7.38977 0 5.04443 2.39252 5.04443 5.56502C5.04443 8.83043 7.4918 11.4867 10.5 11.4867C13.5083 11.4867 15.9556 8.83043 15.9556 5.56528C15.9556 2.39252 13.6103 0 10.5 0ZM10.5 9.84205C8.39867 9.84205 6.68933 7.92352 6.68933 5.56528C6.68933 3.29367 8.29202 1.6449 10.5 1.6449C12.6727 1.6449 14.3107 3.33011 14.3107 5.56528C14.3107 7.92352 12.6014 9.84205 10.5 9.84205Z"
                                    fill="#979797" />
                            </svg>
                        </div>
                        <div class="tab-name">Details</div>
                    </div>
                    <div class="comman-grid" (click)="activeIcon = 3;getDetails()"
                        [ngClass]="{'active':activeIcon === 3}">
                        <div class="img-icon">
                            <svg width="25" height="17" viewBox="0 0 25 17" fill="none"
                                xmlns="http://www.w3.org/2000/svg">
                                <path
                                    d="M1.23492 16.6581H24.2575C24.3729 16.6581 24.4835 16.6123 24.5651 16.5308C24.6466 16.4492 24.6925 16.3386 24.6925 16.2232V1.23503C24.6925 1.11968 24.6466 1.00905 24.5651 0.927491C24.4835 0.845926 24.3729 0.800103 24.2575 0.800103H1.23492C1.11958 0.800103 1.00895 0.845925 0.927386 0.927489C0.845822 1.00905 0.8 1.11968 0.8 1.23503V16.2232C0.8 16.3386 0.845822 16.4492 0.927386 16.5308C1.00895 16.6123 1.11958 16.6581 1.23492 16.6581ZM23.8226 1.66995V15.7883H1.66985V1.66995H23.8226Z"
                                    fill="#979797" stroke="#979797" stroke-width="0.4" />
                                <path
                                    d="M1.51799 0.904706L1.51799 0.904705L24.5406 1.56517L24.5405 1.56526C24.628 1.4903 24.6822 1.38366 24.6912 1.26877C24.7001 1.15377 24.6631 1.03991 24.5881 0.952243C24.5131 0.864579 24.4064 0.81029 24.2914 0.801318C24.1764 0.792346 24.0625 0.829427 23.9748 0.9044L23.9745 0.904706L14.3896 9.14116L14.3888 9.14179C13.933 9.53732 13.3498 9.75509 12.7462 9.75509C12.1427 9.75509 11.5595 9.53732 11.1036 9.14179L11.1029 9.14116L1.51799 0.904706ZM14.9561 9.80126L24.5402 1.56547L0.952035 1.56529C0.952104 1.56535 0.952173 1.56541 0.952242 1.56547L10.5363 9.80119C10.5364 9.80129 10.5365 9.80138 10.5366 9.80148C11.1504 10.3323 11.9346 10.6247 12.7461 10.6252L12.7465 10.6252C13.5578 10.6242 14.3418 10.3319 14.9557 9.80157L14.9557 9.80162L14.8253 9.64993L14.9561 9.80126Z"
                                    fill="#979797" stroke="#979797" stroke-width="0.4" />
                                <path
                                    d="M24.2571 16.6581L24.2602 16.658C24.3487 16.6572 24.4349 16.6293 24.5071 16.5781C24.5794 16.527 24.6344 16.455 24.6646 16.3718C24.6949 16.2886 24.699 16.1981 24.6765 16.1125C24.6539 16.0268 24.6058 15.9501 24.5385 15.8926L24.5375 15.8917L15.7426 8.47029C15.7015 8.43109 15.6531 8.4003 15.6001 8.37969C15.5442 8.35792 15.4843 8.34798 15.4243 8.35048C15.3643 8.35298 15.3055 8.36788 15.2516 8.39423C15.1976 8.42059 15.1497 8.45782 15.1108 8.5036C15.072 8.54938 15.043 8.60271 15.0258 8.66022C15.0086 8.71774 15.0034 8.7782 15.0107 8.8378C15.018 8.89739 15.0376 8.95484 15.0681 9.00651C15.0972 9.05563 15.1356 9.09852 15.1812 9.13276L23.9765 16.5569L23.9764 16.5569L23.9806 16.5602C24.0591 16.623 24.1565 16.6575 24.2571 16.6581Z"
                                    fill="#979797" stroke="#979797" stroke-width="0.4" />
                                <path
                                    d="M1.23307 16.6581L1.23616 16.6581C1.33672 16.6575 1.43414 16.623 1.51267 16.5602L1.51272 16.5603L1.51675 16.5569L10.312 9.13276C10.3576 9.09852 10.396 9.05563 10.4251 9.00652C10.4557 8.95484 10.4752 8.89739 10.4825 8.8378C10.4898 8.7782 10.4847 8.71774 10.4674 8.66022C10.4502 8.60271 10.4212 8.54938 10.3824 8.5036L10.3824 8.5036C10.3435 8.45782 10.2956 8.42059 10.2417 8.39423C10.1877 8.36788 10.1289 8.35298 10.0689 8.35048C10.0089 8.34798 9.94908 8.35792 9.89313 8.37969C9.84013 8.4003 9.79173 8.43109 9.75063 8.47029L0.955715 15.8917L0.955712 15.8917L0.954723 15.8926C0.887425 15.9501 0.839293 16.0268 0.81676 16.1125C0.794227 16.1981 0.798367 16.2886 0.828627 16.3718C0.858886 16.455 0.913823 16.527 0.986097 16.5781C1.05837 16.6293 1.14453 16.6572 1.23307 16.6581Z"
                                    fill="#979797" stroke="#979797" stroke-width="0.4" />
                            </svg>
                        </div>
                        <div class="tab-name">Email</div>
                    </div>
                    <div class="comman-grid" (click)="checkLink('appointments')"
                        [ngClass]="{'active':activeIcon === 4}">
                        <div class="img-icon">
                            <svg width="23" height="23" viewBox="0 0 23 23" fill="none"
                                xmlns="http://www.w3.org/2000/svg">
                                <path
                                    d="M20.2841 2.40456H18.1905V0.678967C18.1905 0.304177 17.8864 0 17.5116 0C17.1368 0 16.8326 0.304177 16.8326 0.678967V2.40456H6.16739V0.678967C6.16739 0.304177 5.86322 0 5.48843 0C5.11364 0 4.80946 0.304177 4.80946 0.678967V2.40456H2.71587C1.21841 2.40456 0 3.62297 0 5.12043V20.2841C0 21.7816 1.21841 23 2.71587 23H20.2841C21.7816 23 23 21.7816 23 20.2841V5.12043C23 3.62297 21.7816 2.40456 20.2841 2.40456ZM21.6421 20.2841C21.6421 21.033 21.033 21.6421 20.2841 21.6421H2.71587C1.96697 21.6421 1.35793 21.033 1.35793 20.2841V8.57196H21.6421V20.2841ZM21.6421 7.21402H1.35793V5.12043C1.35793 4.37153 1.96697 3.76249 2.71587 3.76249H20.2841C21.033 3.76249 21.6421 4.37153 21.6421 5.12043V7.21402Z"
                                    fill="#979797" />
                                <path
                                    d="M15.7219 18.6291H18.0983C18.4717 18.6291 18.7773 18.3236 18.7773 17.9502V15.5738C18.7773 15.2004 18.4717 14.8948 18.0983 14.8948H15.7219C15.3485 14.8948 15.043 15.2004 15.043 15.5738V17.9502C15.043 18.3236 15.3485 18.6291 15.7219 18.6291Z"
                                    fill="#979797" />
                            </svg>
                        </div>
                        <div class="tab-name">Meet</div>
                    </div>
                    <div class="comman-grid" (click)="checkLink('money')" [ngClass]="{'active':activeIcon === 5}">
                        <div class="img-icon">
                            <svg width="19" height="26" viewBox="0 0 19 26" fill="none"
                                xmlns="http://www.w3.org/2000/svg">
                                <path
                                    d="M18.8454 5.43242L13.5676 0.154622C13.4686 0.0556641 13.3346 0 13.1944 0H2.11108C0.947328 0 0 0.946784 0 2.11113V23.2223C0 24.3866 0.947328 25.3333 2.11113 25.3333H16.8889C18.0527 25.3333 19 24.3866 19 23.2222V5.80554C19 5.66536 18.9443 5.53137 18.8454 5.43242ZM13.7222 1.80188L17.1981 5.27779H14.7777C14.1953 5.27779 13.7222 4.80413 13.7222 4.22226V1.80188ZM17.9445 23.2222C17.9445 23.8041 17.4713 24.2777 16.8889 24.2777H2.11113C1.52871 24.2777 1.05559 23.8041 1.05559 23.2222V2.11113C1.05559 1.52925 1.52876 1.05559 2.11113 1.05559H12.6667V4.22226C12.6667 5.38655 13.614 6.33333 14.7778 6.33333H17.9445V23.2222Z"
                                    fill="#979797" />
                                <path
                                    d="M15.3054 14.7778H3.6943C3.40257 14.7778 3.1665 15.0139 3.1665 15.3056C3.1665 15.5973 3.40257 15.8334 3.6943 15.8334H15.3054C15.5972 15.8334 15.8332 15.5973 15.8332 15.3056C15.8332 15.0139 15.5971 14.7778 15.3054 14.7778Z"
                                    fill="#979797" />
                                <path
                                    d="M15.3054 11.6111H3.6943C3.40257 11.6111 3.1665 11.8472 3.1665 12.1389C3.1665 12.4306 3.40257 12.6667 3.6943 12.6667H15.3054C15.5972 12.6667 15.8332 12.4306 15.8332 12.1389C15.8332 11.8472 15.5971 11.6111 15.3054 11.6111Z"
                                    fill="#979797" />
                                <path
                                    d="M15.3054 17.9445H3.6943C3.40257 17.9445 3.1665 18.1805 3.1665 18.4723C3.1665 18.764 3.40257 19 3.6943 19H15.3054C15.5972 19 15.8332 18.764 15.8332 18.4723C15.8332 18.1805 15.5971 17.9445 15.3054 17.9445Z"
                                    fill="#979797" />
                                <path
                                    d="M10.0276 21.1111H3.6943C3.40257 21.1111 3.1665 21.3472 3.1665 21.6389C3.1665 21.9306 3.40257 22.1667 3.6943 22.1667H10.0276C10.3194 22.1667 10.5554 21.9306 10.5554 21.6389C10.5554 21.3472 10.3194 21.1111 10.0276 21.1111Z"
                                    fill="#979797" />
                                <path
                                    d="M8.44434 8.97221C8.44434 9.26394 8.6804 9.5 8.97213 9.5H15.3055C15.5972 9.5 15.8333 9.26394 15.8333 8.97221C15.8333 8.68048 15.5972 8.44442 15.3055 8.44442H8.97213C8.6804 8.44447 8.44434 8.68053 8.44434 8.97221Z"
                                    fill="#979797" />
                                <path
                                    d="M5.14567 5.83854C4.60932 5.83854 4.15609 5.49911 4.15609 5.09635C4.15609 4.69359 4.60932 4.35417 5.14567 4.35417C5.41484 4.35417 5.66619 4.43729 5.85223 4.58969C6.064 4.76187 6.37473 4.72922 6.5489 4.51844C6.72109 4.30667 6.68942 3.99495 6.47765 3.82177C6.23916 3.62781 5.9502 3.49719 5.64046 3.42693V2.86979C5.64046 2.59667 5.4188 2.375 5.14567 2.375C4.87255 2.375 4.65088 2.59667 4.65088 2.86979V3.42594C3.79984 3.6199 3.1665 4.29182 3.1665 5.09635C3.1665 6.0513 4.05416 6.82812 5.14567 6.82812C5.68202 6.82812 6.13525 7.16755 6.13525 7.57031C6.13525 7.97307 5.68202 8.3125 5.14567 8.3125C4.8765 8.3125 4.62515 8.22937 4.43911 8.07698C4.22635 7.9038 3.91562 7.93646 3.74343 8.14823C3.57025 8.36 3.60192 8.67172 3.81369 8.8449C4.05218 9.03885 4.34114 9.16948 4.65088 9.24073V9.79688C4.65088 10.07 4.87255 10.2917 5.14567 10.2917C5.4188 10.2917 5.64046 10.07 5.64046 9.79688V9.24073C6.4915 9.04677 7.12484 8.37484 7.12484 7.57031C7.12484 6.61536 6.23718 5.83854 5.14567 5.83854Z"
                                    fill="#979797" />
                            </svg>
                        </div>
                        <div class="tab-name">Invoice</div>
                    </div>
                    <div class="comman-grid"  [ngClass]="{'active':activeIcon===6 && moreSection === 'tasks'}" (click)="activeIcon = 6;checkLink('tasks');">
                        <div class="img-icon">
                            <svg width="21" height="27" viewBox="0 0 21 27" fill="none"
                                xmlns="http://www.w3.org/2000/svg">
                                <path
                                    d="M10.2717 0C9.07855 0 8.07858 0.732161 7.62128 1.76087H5.28261C4.97528 1.7609 4.69568 2.0405 4.69565 2.34783V2.93478H0.586957C0.258261 2.93566 0.000205435 3.24191 0 3.52174V26.413C2.93478e-05 26.7204 0.279626 27 0.586957 27H19.9565C20.2639 27 20.5434 26.7204 20.5435 26.413V3.52174C20.5434 3.21442 20.2639 2.93481 19.9565 2.93478H15.8478V2.34783C15.8478 2.0405 15.5682 1.7609 15.2609 1.76087H12.9222C12.4649 0.732161 11.465 0 10.2717 0ZM10.2717 1.17391C11.103 1.17391 11.783 1.72578 11.9776 2.48539C12.0386 2.73851 12.2858 2.93388 12.5462 2.93478H14.6739V4.69565H6.16304V2.93478H7.99728C8.25766 2.9339 8.50485 2.73851 8.5659 2.48539C8.76044 1.72578 9.44049 1.17391 10.2717 1.17391ZM1.17391 4.1087H4.69565V5.28261C4.69568 5.58993 4.97528 5.86954 5.28261 5.86957H15.2609C15.5682 5.86954 15.8478 5.58993 15.8478 5.28261V4.1087H19.3696V25.8261H1.17391V4.1087ZM4.1087 8.21739C3.78452 8.21739 3.52174 8.48017 3.52174 8.80435C3.52174 9.12852 3.78452 9.3913 4.1087 9.3913H16.4348C16.759 9.3913 17.0217 9.12852 17.0217 8.80435C17.0217 8.48017 16.759 8.21739 16.4348 8.21739H4.1087ZM4.1087 12.913C3.78452 12.913 3.52174 13.1758 3.52174 13.5C3.52174 13.8242 3.78452 14.087 4.1087 14.087H16.4348C16.759 14.087 17.0217 13.8242 17.0217 13.5C17.0217 13.1758 16.759 12.913 16.4348 12.913H4.1087ZM4.1087 17.6087C3.78452 17.6087 3.52174 17.8715 3.52174 18.1957C3.52174 18.5198 3.78452 18.7826 4.1087 18.7826H16.4348C16.759 18.7826 17.0217 18.5198 17.0217 18.1957C17.0217 17.8715 16.759 17.6087 16.4348 17.6087H4.1087ZM4.1087 22.3043C3.78452 22.3043 3.52174 22.5671 3.52174 22.8913C3.52174 23.2155 3.78452 23.4783 4.1087 23.4783H16.4348C16.759 23.4783 17.0217 23.2155 17.0217 22.8913C17.0217 22.5671 16.759 22.3043 16.4348 22.3043H4.1087Z"
                                    fill="#979797" />
                            </svg>
                        </div>
                        <div class="tab-name">Task</div>
                    </div>
                    <div class="comman-grid"   [ngClass]="{'active':activeIcon===6 && moreSection === 'notes'}" (click)="activeIcon = 6;moreSection ='notes'">
                        <div class="img-icon">
                            <svg width="27" height="25" viewBox="0 0 27 25" fill="none"
                                xmlns="http://www.w3.org/2000/svg">
                                <path
                                    d="M6.53099 8.76613C6.27303 8.76613 6.05596 8.96833 6.05596 9.22093C6.05596 9.47315 6.26757 9.67572 6.53099 9.67572H15.0874C15.3453 9.67572 15.5624 9.47353 15.5624 9.22093C15.5624 8.96871 15.3508 8.76613 15.0874 8.76613H6.53099Z"
                                    fill="#979797" stroke="#979797" stroke-width="0.1" />
                                <path
                                    d="M6.53197 5.63908C6.274 5.63908 6.05693 5.84128 6.05693 6.09388C6.05693 6.34609 6.26855 6.54867 6.53197 6.54867H15.0883C15.3463 6.54867 15.5634 6.34647 15.5634 6.09388C15.5634 5.84166 15.3518 5.63908 15.0883 5.63908H6.53197Z"
                                    fill="#979797" stroke="#979797" stroke-width="0.1" />
                                <path
                                    d="M22.8234 1.02596L22.8234 1.02604L26.7246 3.27772L26.7246 3.27775C26.9405 3.40271 27.0144 3.68046 26.8903 3.8964C26.8865 3.9038 26.8827 3.90939 26.8803 3.91294C26.8787 3.91533 26.8778 3.91681 26.877 3.91807C26.8766 3.91881 26.8762 3.91948 26.8759 3.92022L26.8745 3.92289L26.8745 3.92285L18.905 17.7314L18.9049 17.7316C18.8657 17.7989 18.815 17.8498 18.7538 17.8892L14.2068 21.3437C14.2067 21.3437 14.2066 21.3438 14.2065 21.3439L14.2065 21.3439L14.1762 21.3041C13.9991 21.4407 13.7461 21.4053 13.6095 21.2282L22.8234 1.02596ZM22.8234 1.02596L22.8207 1.02462C22.8187 1.02363 22.8173 1.02269 22.8135 1.02015L22.8131 1.0199C22.8095 1.01752 22.8041 1.01388 22.7969 1.0102C22.5956 0.894466 22.3406 0.950897 22.2057 1.13394L22.8234 1.02596ZM25.8714 3.83683L18.1606 17.1971L14.4973 19.9791L15.0242 15.3797L22.7357 2.02818L25.8714 3.83683Z"
                                    fill="#979797" stroke="#979797" stroke-width="0.1" />
                                <path
                                    d="M21.1085 3.94116L21.1085 3.94113C20.8922 3.81594 20.8184 3.53738 20.9435 3.32127C21.0687 3.10504 21.3472 3.0312 21.5633 3.1563L21.5633 3.15628L21.1085 3.94116ZM21.1085 3.94116L25.035 6.20799L21.1085 3.94116ZM25.4898 5.42314L25.4899 5.42317C25.7061 5.54836 25.78 5.82692 25.6548 6.04303C25.5297 6.25925 25.2511 6.33309 25.035 6.20802L25.4898 5.42314ZM25.4898 5.42314L21.5634 3.15631L25.4898 5.42314Z"
                                    fill="#979797" stroke="#979797" stroke-width="0.1" />
                                <path
                                    d="M14.5763 15.2501L14.5762 15.2501C14.36 15.1249 14.2862 14.8464 14.4113 14.6303C14.5365 14.414 14.815 14.3402 15.0311 14.4653L15.0311 14.4653L14.5763 15.2501ZM14.5763 15.2501L18.5028 17.517L14.5763 15.2501ZM18.9576 16.7321L18.9577 16.7322C19.1739 16.8573 19.2477 17.1359 19.1226 17.352C18.9974 17.5682 18.7189 17.6421 18.5028 17.517L18.9576 16.7321ZM18.9576 16.7321L15.0311 14.4653L18.9576 16.7321Z"
                                    fill="#979797" stroke="#979797" stroke-width="0.1" />
                                <path
                                    d="M19.819 14.3293L19.9066 14.3774L19.9136 14.3658C19.9162 14.362 19.9199 14.3562 19.9237 14.3488L19.8361 14.3007L19.8291 14.3123C19.8266 14.3161 19.8228 14.3219 19.819 14.3293Z"
                                    fill="#979797" stroke="#979797" stroke-width="0.1" />
                                <path
                                    d="M20.6658 4.41368L20.6725 4.40208V4.38867V2.84033C20.6725 2.37102 20.4795 1.94357 20.1721 1.63613C19.8646 1.32868 19.4372 1.13573 18.9679 1.13573H2.6546C2.1853 1.13573 1.75784 1.32868 1.4504 1.63613C1.14296 1.94357 0.95 2.37102 0.95 2.84033V23.1864C0.95 23.6557 1.14296 24.0831 1.4504 24.3906C1.75784 24.698 2.1853 24.891 2.6546 24.891H18.9679C19.4372 24.891 19.8646 24.698 20.1721 24.3906C20.4795 24.0831 20.6725 23.6557 20.6725 23.1864V14.2606V14.0741L20.5792 14.2356L19.7696 15.6372L19.7629 15.6488V15.6622V21.2079V23.1864C19.7629 23.4052 19.6725 23.6052 19.5296 23.7481C19.3867 23.891 19.1867 23.9814 18.9679 23.9814H2.6546C2.43576 23.9814 2.23578 23.891 2.09288 23.7481C1.94999 23.6052 1.85959 23.4052 1.85959 23.1864V2.84033C1.85959 2.62149 1.94999 2.42151 2.09288 2.27861C2.23578 2.13572 2.43576 2.04532 2.6546 2.04532H18.9679C19.1867 2.04532 19.3867 2.13572 19.5296 2.27861C19.6725 2.42151 19.7629 2.62149 19.7629 2.84033V4.70239V5.79028V5.97681L19.8562 5.81529L20.6658 4.41368Z"
                                    fill="#979797" stroke="#979797" stroke-width="0.1" />
                            </svg>
                        </div>
                        <div class="tab-name">Notes</div>
                    </div>
                    <div class="comman-grid more-grid-btn">
                        <div class="btn-group more-btn" (click)="getDetails()"
                        [ngClass]="{'active':activeIcon === 6}" dropdown>
                            <button  dropdownToggle type="button" class="btn dropdown-toggle">
                                <svg width="6" height="24" viewBox="0 0 6 24" fill="none"
                                    xmlns="http://www.w3.org/2000/svg">
                                    <path
                                        d="M2.67071 5.33337C1.19794 5.33337 0.00402737 4.13946 0.00402737 2.66669C0.00402737 1.19392 1.19794 0 2.67071 0C4.14349 0 5.3374 1.19392 5.3374 2.66669C5.3374 4.13946 4.14349 5.33337 2.67071 5.33337Z"
                                        fill="#979797" />
                                    <path
                                        d="M2.67071 14.6667C1.19794 14.6667 0.00402737 13.4728 0.00402737 12C0.00402737 10.5272 1.19794 9.33331 2.67071 9.33331C4.14349 9.33331 5.3374 10.5272 5.3374 12C5.3374 13.4728 4.14349 14.6667 2.67071 14.6667Z"
                                        fill="#979797" />
                                    <path
                                        d="M2.67071 24C1.19794 24 0.00402737 22.8061 0.00402737 21.3333C0.00402737 19.8605 1.19794 18.6666 2.67071 18.6666C4.14349 18.6666 5.3374 19.8605 5.3374 21.3333C5.3374 22.8061 4.14349 24 2.67071 24Z"
                                        fill="#979797" />
                                </svg>
                                <span class="caret"></span>
                            </button>
                            <ul *dropdownMenu class="dropdown-menu" role="menu">
                                <li role="menuitem">
                                    <a class="dropdown-item" (click)="activeIcon = 6; moreSection ='files'">
                                        
                                    <svg width="19" height="14" viewBox="0 0 19 14" fill="none" xmlns="http://www.w3.org/2000/svg">
                                        <path d="M16.5537 4.17286V2.0375H8.81989L7.40352 0H0V14H16.4782L19 4.17286H16.5537ZM0.647727 0.671751H7.06886L8.48523 2.70925H15.9017V4.17286H2.42466L0.647727 11.0772V0.671751ZM15.9773 13.3282H0.749205L2.92557 4.84461H18.1536L15.9773 13.3282Z" fill="#2A2A2A"/>
                                        </svg>
    
                                        Files
                                    </a>
                                </li>

                                <li role="menuitem">
                                    <a class="dropdown-item" (click)="activeIcon = 6;moreSection ='tags'">
                                        
                                    <svg width="17" height="17" viewBox="0 0 17 17" fill="none" xmlns="http://www.w3.org/2000/svg">
                                        <path d="M4.78467 2.6582C3.62229 2.6582 2.69238 3.60598 2.69238 4.75048C2.69238 5.91286 3.64017 6.84277 4.78467 6.84277C5.94705 6.84277 6.87696 5.89498 6.87696 4.75048C6.87696 3.60598 5.92917 2.6582 4.78467 2.6582ZM4.78467 5.82345C4.19454 5.82345 3.7117 5.34061 3.7117 4.75048C3.7117 4.16035 4.19454 3.67751 4.78467 3.67751C5.3748 3.67751 5.85764 4.16035 5.85764 4.75048C5.83975 5.35849 5.3748 5.82345 4.78467 5.82345Z" fill="#2A2A2A"/>
                                        <path d="M16.5882 8.75604L8.59457 0.762437C8.05809 0.20807 7.28913 -0.0601734 6.52017 0.0113577L1.7097 0.42267C1.01227 0.476319 0.475789 1.03068 0.422141 1.71022L0.0108394 6.52069C-0.0606917 7.28965 0.225435 8.04073 0.761918 8.59509L8.75552 16.5887C9.02376 16.857 9.3993 17 9.75695 17C10.1146 17 10.4723 16.857 10.7584 16.5887L16.5703 10.7768C16.8385 10.5086 16.9816 10.1509 16.9816 9.77536C16.9995 9.38194 16.8564 9.02428 16.5882 8.75604ZM15.855 10.0257L10.0431 15.8376C9.90001 15.9807 9.64965 15.9807 9.50659 15.8376L1.513 7.84402C1.19111 7.52213 1.01227 7.05718 1.04804 6.59223L1.45934 1.78176C1.47722 1.60293 1.62029 1.44198 1.79912 1.44198L6.60959 1.03068C6.66324 1.03068 6.699 1.03068 6.75265 1.03068C7.16395 1.03068 7.57526 1.19163 7.86138 1.49564L15.855 9.48923C15.998 9.63229 15.998 9.88265 15.855 10.0257Z" fill="#2A2A2A"/>
                                        </svg>
    
                                        Tags
                                    </a>
                                </li>
                            </ul>
                            </div>
                        <div class="tab-name">More</div>
                    </div>

                </div>
            </div>

            <div class="seprator-main"></div>


            <!--more-->
            <ng-container *ngIf="activeIcon === 4">
                <div class="meet-section-tab Contact-Activity-inner">

                    <!--                    <div class="btn-group send-invite" dropdown>-->
                    <!--                        <button id="button-basic2" dropdownToggle type="button" class="btn text-button"-->
                    <!--                                aria-controls="dropdown-basic">Send invite-->
                    <!--                            <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" id="chevron-down">-->
                    <!--                                <path-->
                    <!--                                        d="M6.293 9.293a1 1 0 0 1 1.414 0L12 13.586l4.293-4.293a1 1 0 1 1 1.414 1.414l-5 5a1 1 0 0 1-1.414 0l-5-5a1 1 0 0 1 0-1.414z"-->
                    <!--                                        fill-rule="evenodd"></path>-->
                    <!--                            </svg>-->
                    <!--                        </button>-->
                    <!--                        <ul id="dropdown-basic2" *dropdownMenu class="dropdown-menu" role="menu" aria-labelledby="button-basic"-->
                    <!--                            style="left: -103px;">-->
                    <!--                            <li role="menuitem" style="display: block" *ngFor="let data of myModel.appointmentTypes"-->
                    <!--                                (click)="appoint.sendInvite(data)">-->
                    <!--                                <a class="dropdown-item">-->
                    <!--                            <span class="ellipsis">{{data?.name}}-->
                    <!--                                <ng-container-->
                    <!--                                        *ngIf="data?.duration"> | {{data?.duration}}-->
                    <!--                                    min</ng-container>-->
                    <!--                            </span>-->
                    <!--                                </a>-->
                    <!--                            </li>-->

                    <!--                        </ul>-->
                    <!--                    </div>-->

                    <!-- <div class="contact-book-btn" *ngIf="myModel?.appointments?.length">
                        <button type="button" class="btn-outline-primary" (click)="openBook()">
                            Book Appointment
                        </button>
                    </div> -->
                    <div class="content">

                        <!-- ------------------Heading-row------------------- -->
                        <div class="heading-row-meetsections">
                                <div class="headings-main-meet">
                                    Appointment History
                                </div>
                                <div class="contact-book-btn">
                                    <button type="button" class="btn-outline-primary" (click)="openBook()">
                                        Book Appointment
                                    </button>
                                </div>

                        </div>

                        <!--                        <app-placeholders [flag]="6"  [data]="selected" *ngIf="myModel?.appointments?.length === 0"></app-placeholders>-->
                        <div class="empty-state" *ngIf="myModel?.appointments?.length === 0">
                            <div class="image-wrapper new-meet-img"><img src="/assets/images/meet-icon.svg"></div>
                            <div class="details-wrapper">
                                <h3 class="empty-state-title">Don't miss an opportunity to meet
                                    with {{myData?.firstName}}</h3>
                                <p>Inviting your client to meet is simple. Let's get the ball rolling.</p>
                            </div>
                            <!--------------------OLD-CODE---------------------------->
                            <!-- <div class="slot">
                                <div class="button-loading">
                                    <button class="btn btn-outline-primary" type="button" (click)="openBook()">
                                        <span> Book an appointment</span></button>
                                </div>
                            </div> -->
                        </div>

                        <app-appoint-list [allData]="myModel?.appointments"></app-appoint-list>
                    </div>
                </div>
            </ng-container>

            <ng-container *ngIf="activeIcon === 5">
                <div class="money-section-tab Contact-Activity-inner">
                    <!-- <section class="payment-row-section">
                        <div class="button-header">
                            <h2 class="block">Payments</h2>
                            <button type="button" class="btn-outline-primary"
                                (click)="http.openModal('addPayment',{contactData:selected})"> Add a payment
                            </button>
                        </div>

                        <app-loader [showLoader]="activityLoader" [length]="myModel?.payments"></app-loader>

                        <div *ngFor="let data of myModel?.payments">
                            <div class="payment-row">
                                <div class="date">{{data?.createdAt|date:'MMM dd,yyyy'}}</div>
                                <div class="payment-type">
                                    <a (click)="http.openModal('paymentDes', data)">
                                        {{data?.status == 1 ? 'Manual payment made' : 'Refund'}}</a>
                                    <div class="amount light"> {{data?.amount | currency}}</div>
                                </div>
                            </div>
                        </div>

                        <div class="money-content" *ngIf="myModel?.payments?.length === 0">
                            <h3>Get paid today</h3>
                            <p>Accept credit card payments right here on the contact record. It's quick and easy.</p>
                            <a class="money-btn" (click)="http.openModal('addPayment',{contactData:selected})"> Add a
                                payment
                                from {{selected?.firstName}} </a>
                        </div>
                    </section> -->

                    <section>
                        <div class="button-header invoice-header-main">
                            <h2 class="block">Invoices</h2>
                            <button type="button" class="btn-outline-primary" (click)="http.openModal('addInvoice')">
                                Create an invoice
                            </button>
                        </div>
                        <div>
                            <div class="card-layout invoices contact-invoices">
                                <app-invoive-tabs [data]="myModel?.invoices"></app-invoive-tabs>
                            </div>
                        </div>
                        <div class="money-content" *ngIf="myModel?.invoices?.length === 0">
                            <img  src="../../../../assets/images/create-invoice-no-vector.svg" />
                            <h3>Create and send an invoice</h3>
                            <p>Set up your invoicing once and it'll be quick and easy in the future. Create, edit, and
                                track all invoice activity.</p>
                        </div>
                    </section>
                    <!-- ----------------------After -add invoice-New-Ui--------------------------------------------- -->
                    <!-- <section class="invoices-mains" *ngIf="myModel?.invoices">
                        <ng-container *ngFor="let data of myModel?.invoices">
                            
                            <div class="comman-grid drafts" 
                                [ngClass]="{  'drafts' : data.status == 'Draft', 'Sent': data.status == 'Sent'}">
                                <div class="dollar">{{data?.total |currency}}</div>
                                <div class="names-main">{{data?.contactId?.firstName}} {{data?.contactId?.lastName}}</div>
                                <div class="dates-main">{{data?.dueBy |date:'EEE, MMM dd,yyyy'}}</div>
                                <div class="comman-btn" 
                                [ngClass]="{  'draft-btn' : data.status == 'Draft', 'Sent-btn': data.status == 'Sent'}">{{data?.status}}</div>
                            </div>
                        </ng-container>
                        
                            <div class="comman-grid Sent">
                                <div class="dollar">$1,202.36</div>
                                <div class="names-main">John Doe</div>
                                <div class="dates-main">Apr 21, 2021</div>
                                <div class="Sent-btn comman-btn">Sent</div>
                            </div>
                            <div class="comman-grid Sent">
                                <div class="dollar">$1,202.36</div>
                                <div class="names-main">John Doe</div>
                                <div class="dates-main">Apr 21, 2021</div>
                                <div class="Sent-btn comman-btn">Sent</div>
                            </div>
                            <div class="comman-grid drafts">
                                <div class="dollar">$1,202.36</div>
                                <div class="names-main">John Doe</div>
                                <div class="dates-main">Apr 21, 2021</div>
                                <div class="draft-btn comman-btn">Draft</div>
                            </div>
                    </section> -->



                    <!-- -------------------------End-after-add-invoice-new-ui------------------------------------- -->
                    <!-- <section>
                        <div class="button-header">
                            <h2 class="block">Quotes</h2>
                            <button type="button" class="btn-outline-primary" (click)="http.openModal('addQuote')">
                                Create a quote
                            </button>
                        </div>
                        <div>
                            <div class="card-layout invoices">
                                <app-invoive-tabs [data]="myModel?.quotes"></app-invoive-tabs>
                            </div>
                        </div>

                        <div class="money-content" *ngIf="myModel?.quotes?.length === 0">
                            <h3>Create and send a quote</h3>
                            <p>Set up quotes once and it'll be quick and easy in the future. Create, edit, and track all
                                quote activity.</p>
                            <a class="money-btn" (click)="http.openModal('addQuote')"> Create a quote
                                for {{selected?.firstName}} </a>
                        </div>

                    </section> -->
                </div>
            </ng-container>

            <ng-container *ngIf="activeIcon === 6">

                <ng-container *ngIf="moreSection === 'tags'">

                    <div class="tags-section-tab Contact-Activity-inner">
                        <!-- -------------------New-Code-Added------------------------- -->
                            <div class="tags-header-main">
                                <div class="left-col-tag">Tags</div>
                                <button class="btn tags-btn" (click)="http.navigate('contacts/manage-tag', selected._id)">Manage tags</button>
                            </div>
                        <!-- -------------------------End-Code-New-Added--------------------- -->
                        <div class="new-tags-main-area">
                            <tag-input class="add_new_tags" [(ngModel)]="item" [onlyFromAutocomplete]="true"
                                [separatorKeyCodes]="[32]">
                                <tag-input-dropdown [dynamicUpdate]="false" [showDropdownIfEmpty]="true"
                                    style="max-width: 100px" [focusFirstElement]="true" [displayBy]="'name'"
                                    [identifyBy]="'_id'" [autocompleteItems]="myModel.tags">
                                    <ng-template let-item="item" let-index="index">
                                        {{ item.name}}
                                    </ng-template>
                                </tag-input-dropdown>
                            </tag-input>

                            <section class="apply-tags">
                                <div class="tag-actions">
                                    <div class="button-container">
                                        <br>

                                        <button [disabled]="item?.length > 0 ? false: true" type="button" class="btn-outline-primary"
                                            (click)="applyTagToContact()">
                                            Apply tag
                                            to {{selected?.firstName}} {{selected?.lastName}}
                                        </button>

                                    </div>
                                </div>
                            </section>
                        </div>

                        <div class="search-field-main mb-3">
                                <div class="input-search-main">
                                    <!-- <input type="text"  [formControl]="tagsSearch" (input)="contactTagList(false)" placeholder="Search Tags Applied"> -->
                                    <input type="text"  [formControl]="tagsSearch" placeholder="Search Tags Applied">
                                </div>
                                <div class="manage-tags-total">
                                    <span class="number small">{{myModel?.contactTags?.count}}</span>
                                    Tag applied to {{selected?.firstName}}
                                </div>
                        </div>
                        <app-loader [showLoader]="activityLoader" [length]="myModel?.contactTags?.length"></app-loader>

                        <!-- ------------Old-code-Added---------------------- -->
                        <ng-container *ngFor="let data of (myModel?.contactTags?.data|filter:tagsSearch.value);let i =index">
                            <div class="tag new-tags-main">
                                <div class="info">
                                    <div class="category">
                                        <img src="assets/images/tag_icon.svg">
                                        {{data?.tagCategoryId?.name}}</div>
                                    <div class="semibold">{{data?.name}}</div>
                                   
                                </div>
                                <div class="actions">
                                    <span title="Monday, April 27th 2020 03:23 AM" class="date">{{data?.createdAt
                                        |date:'MMM dd, yyyy'}}</span>

                                    <div class="trash-bin" (click)="removeTag(data,i)">
                                        <svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" xmlns:svgjs="http://svgjs.com/svgjs" version="1.1" width="512" height="512" x="0" y="0" viewBox="0 0 512 512" style="enable-background:new 0 0 512 512" xml:space="preserve" class=""><g><path xmlns="http://www.w3.org/2000/svg" d="m416.875 114.441406-11.304688-33.886718c-4.304687-12.90625-16.339843-21.578126-29.941406-21.578126h-95.011718v-30.933593c0-15.460938-12.570313-28.042969-28.027344-28.042969h-87.007813c-15.453125 0-28.027343 12.582031-28.027343 28.042969v30.933593h-95.007813c-13.605469 0-25.640625 8.671876-29.945313 21.578126l-11.304687 33.886718c-2.574219 7.714844-1.2695312 16.257813 3.484375 22.855469 4.753906 6.597656 12.445312 10.539063 20.578125 10.539063h11.816406l26.007813 321.605468c1.933594 23.863282 22.183594 42.558594 46.109375 42.558594h204.863281c23.921875 0 44.175781-18.695312 46.105469-42.5625l26.007812-321.601562h6.542969c8.132812 0 15.824219-3.941407 20.578125-10.535157 4.753906-6.597656 6.058594-15.144531 3.484375-22.859375zm-249.320312-84.441406h83.0625v28.976562h-83.0625zm162.804687 437.019531c-.679687 8.402344-7.796875 14.980469-16.203125 14.980469h-204.863281c-8.40625 0-15.523438-6.578125-16.203125-14.980469l-25.816406-319.183593h288.898437zm-298.566406-349.183593 9.269531-27.789063c.210938-.640625.808594-1.070313 1.484375-1.070313h333.082031c.675782 0 1.269532.429688 1.484375 1.070313l9.269531 27.789063zm0 0" fill="#b2b1b4" data-original="#000000" style="" class=""/><path xmlns="http://www.w3.org/2000/svg" d="m282.515625 465.957031c.265625.015625.527344.019531.792969.019531 7.925781 0 14.550781-6.210937 14.964844-14.21875l14.085937-270.398437c.429687-8.273437-5.929687-15.332031-14.199219-15.761719-8.292968-.441406-15.328125 5.925782-15.761718 14.199219l-14.082032 270.398437c-.429687 8.273438 5.925782 15.332032 14.199219 15.761719zm0 0" fill="#b2b1b4" data-original="#000000" style="" class=""/><path xmlns="http://www.w3.org/2000/svg" d="m120.566406 451.792969c.4375 7.996093 7.054688 14.183593 14.964844 14.183593.273438 0 .554688-.007812.832031-.023437 8.269531-.449219 14.609375-7.519531 14.160157-15.792969l-14.753907-270.398437c-.449219-8.273438-7.519531-14.613281-15.792969-14.160157-8.269531.449219-14.609374 7.519532-14.160156 15.792969zm0 0" fill="#b2b1b4" data-original="#000000" style="" class=""/><path xmlns="http://www.w3.org/2000/svg" d="m209.253906 465.976562c8.285156 0 15-6.714843 15-15v-270.398437c0-8.285156-6.714844-15-15-15s-15 6.714844-15 15v270.398437c0 8.285157 6.714844 15 15 15zm0 0" fill="#b2b1b4" data-original="#000000" style="" class=""/></g></svg>
                                    </div>    
                                </div>
                            </div>
                        </ng-container>


                        

                        <app-placeholders [flag]="9" *ngIf="myModel?.contactTags?.count === 0"></app-placeholders>

                    </div>

                </ng-container>

                <ng-container *ngIf="moreSection === 'files'">

                    <div class="file-section-tab Contact-Activity-inner">
                        <!----------------------------- New-Design-------------------------------------------- -->
                        <div class="header-for-files">
                                <div class="headinds-files-main">Files</div>
                                <button class="btn upload-btn-main" (click)="file.click()" [disabled]="isLoader">
                                    <i [ngClass]=" {'fa fa-spinner fa-spin' : isLoader}" aria-hidden="true"></i>
                                    {{isLoader ? 'Uploading...' :'Upload a file'}}</button>
                                <input hidden #file  accept=".png, .jpg, .jpeg" (change)="uploadImage($event.target.files[0])" onclick="this.value=null;"  type="file" name="file" id="file">

                        </div>

                        <!-- ------------End of code--------------------------------------------------- -->
                        <div class="row">

                            <!-- ---------------old Code-design----------------------- -->
                            <!-- <div class="col-md-8 search-field-div">
                                <mat-form-field class="full-width search-field-input" appearance="outline">
                                    <mat-label>Search files</mat-label>
                                    <input matInput placeholder="Search files" type="text" [formControl]="fileSearch">
                                </mat-form-field>
                                <label style="margin-top: 10px">File size limit is 10 MB
                                </label>
                            </div>

                            <div class="col-md-4 file-upload">
                                <span *ngIf="isLoader">Uploading...</span>
                                <input style="height: 40px !important;" [disabled]="isLoader" type="file"
                                    value="Upload a file" (change)="uploadImage($event.target.files[0])">
                            </div> -->
                        </div>

                        <app-placeholders (returnAction)="getDetails()" [flag]="8"
                            *ngIf="myModel?.files?.data?.length === 0" [data]="selected">
                        </app-placeholders>
                    </div>

                    <div  *ngIf="!(myModel?.files?.data?.length === 0)" class="search-filed-main">
                        <input type="text" [formControl]="fileSearch" placeholder="Search Files">
                    </div> 
                    <div>
                        <div class="list-item border-partial new-list-files-main"
                            *ngFor="let val of myModel?.files?.data | filter:fileSearch.value">
                            <!-- --------------New Search Filed added--------------------- -->

                            <div class="upload-informations-mains">
                                <div class="item-text">
                                    <div class="icons-related-to-files">
                                        <img src="../../../../assets/images/pdf-main.svg">
                                    </div>
                                    <div class="title one-line"> {{val?.name}}</div>
                                    <div class="sizes-file">({{val?.size}})</div>
                                    
                                </div>
                                <div class="description">
                                     {{val?.createdAt | date:'MMM dd, yyyy, hh:mm a'}}
    
                                </div>
                                <div class="trailing-slot">
                                    <div class="file-actions">
                                        <a class="download_ic" (click)="http.goToLink(val?.content?.original)">
                                            <img src="/assets/images/ic_download.svg">
                                        </a>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>

                </ng-container>

                <ng-container *ngIf="moreSection === 'tasks'">
                    <div class=" contact-tasks Contact-Activity-inner">
                        <div class="content">
                            
                            <div class="text-header-task-history">
                                <div class="headings">Task History</div>

                                <div class="text-right button-row contact-button-row">
                                    <button type="submit" class="btn btn-outline-primary"
                                        (click)="http.openModal('addTask',{contactId:selected})">Add Task
                                    </button>
                        
                                    <!-- <button type="button" class="text-button" *ngIf="this.myModel.status ===1"
                                        (click)="this.myModel.status = 2;taskList()"> Show completed
                                    </button>
                                    <button type="button" class="text-button" *ngIf="this.myModel.status ===2"
                                        (click)="this.myModel.status = 1;taskList()"> Hide completed
                                    </button> -->
    
                                </div>

                            </div>
                            <!-- --------------------New-UI-added--------------------------- -->
                            <div class="new-task-history-mains" *ngFor="let data of myModel?.tasks">

                                <div class="days-and-calender-main"><span class="days-main">{{data?._id | date:http.CONSTANT.dateFormat}}</span></div>
                                    
                                <div class="task-managet-main" *ngFor="let val of data?.data">
                                        <div class="left-col-img">
                                            <img src="../../../../assets/images/task-activity.svg" alt="task-activity">
                                        </div>
                                        <div class="right-co-all-tast">
                                                <div class="first-row-main-task">
                                                    <div class="first-left-task">
                                                        <span class="graytitle">Task - Created by</span>
                                                        <span class="specified-name">{{val?.contactId?.firstName}}
                                                            {{val?.contactId?.lastName}}</span>
                                                    </div>
                                                    <div class="first-right-time-during">{{val?.startDateTime |date: 'dd/MM/yy, hh:mm a'}} - {{val?.dueDateTime |date: 'dd/MM/yy, hh:mm a'}}</div>
                                                </div> 
                                                <div class="comman-rows-name">
                                                    <div class="comman-label">Task Name:</div>
                                                    <div class="comman-value">{{val?.title}}</div>
                                                </div>
                                                <div class="comman-rows-name">
                                                    <div class="comman-label">Task Description:</div>
                                                    <div class="comman-value">{{val?.note}}</div>
                                                </div>
                                                <div class="assignee-main">
                                                    <div class="assigne-left">
                                                        <div class="comman-label">Assignee:</div>
                                                        <div class="grid-name-plate">
                                                                <div class="comman-circle-main">{{val?.addedBy?.name.split(' ')[0].substr(0,1)}}
                                                                    {{val?.addedBy?.name.split(' ')[1].substr(0,1)}}</div>
                                                                <!-- <div class="comman-circle-main">JD</div> -->
                                                                <!-- <div class="comman-circle-main">J</div>
                                                                <div class="comman-circle-main">+5</div> -->
                                                        </div>
                                                        <!-- <ngx-avatar *ngIf="val?.addedBy?.name" size="50" 
                                                        bgColor="#14649c" 
                                                        [name]="val?.addedBy?.name ? val?.addedBy?.name: '' "></ngx-avatar> -->

                                                    </div>
                                                    <div class="assigne-right">
                                                        <div class="comman-label">Priority:</div>
                                                        <div class="comman-status high" 
                                                        [ngClass]="{                                                       
                                                        'high' : val.priority == 'High', 
                                                        'medium' : val.priority == 'Medium', 
                                                        'low' : val.priority == 'Low' 
                                                        }">{{val?.priority}}</div>
                                                    </div>
                                                </div>
                                                <div class="assigne-attachments">
                                                    <div class="comman-label">Attachment :</div>
                                                    <div class="comman-pdf-main">
                                                        <img src="../../../../assets/images/pdf-main.svg" alt="pdf">
                                                        <span class="file-name">{{(val?.image|stringToObj)?.fileName}}</span>
                                                        <span class="file-size">({{(val?.image|stringToObj)?.size}})</span>
                                                    </div>

                                                </div>
                                        </div>
                                </div>

                                <!-- <div class="task-managet-main">
                                        <div class="left-col-img">
                                            <img src="../../../../assets/images/task-activity.svg" alt="task-activity">
                                        </div>
                                        <div class="right-co-all-tast">
                                                <div class="first-row-main-task">
                                                    <div class="first-left-task">
                                                        <span class="graytitle">Task - Created by</span>
                                                        <span class="specified-name">Joh Doe</span>
                                                    </div>
                                                    <div class="first-right-time-during">23/04/2021 - 23/06/2021</div>
                                                </div> 
                                                <div class="comman-rows-name">
                                                    <div class="comman-label">Task Name:</div>
                                                    <div class="comman-value">Test Task</div>
                                                </div>
                                                <div class="comman-rows-name">
                                                    <div class="comman-label">Task Description:</div>
                                                    <div class="comman-value">Lorem Ipsum has been the industry's standard dummy text ever since the 1500s, when an unknown printer took a galley of type and scrambled it to make a type specimen book. It has survived not only five centuries</div>
                                                </div>
                                                <div class="assignee-main">
                                                    <div class="assigne-left">
                                                        <div class="comman-label">Assignee:</div>
                                                        <div class="grid-name-plate">
                                                                <div class="comman-circle-main">JD</div>
                                                                <div class="comman-circle-main">J</div>
                                                                <div class="comman-circle-main">+5</div>
                                                        </div>
                                                    </div>
                                                    <div class="assigne-right">
                                                        <div class="comman-label">Priority:</div>
                                                        <div class="comman-status medium">Medium</div>
                                                    </div>
                                                </div>
                                                <div class="assigne-attachments">
                                                    <div class="comman-label">Attachment :</div>
                                                    <div class="comman-pdf-main">
                                                        <img src="../../../../assets/images/pdf-main.svg" alt="pdf">
                                                        <span class="file-name">QR code file.pdf</span>
                                                        <span class="file-size">(120K)</span>
                                                    </div>

                                                </div>
                                        </div>
                                </div>

                                <div class="task-managet-main">
                                        <div class="left-col-img">
                                            <img src="../../../../assets/images/task-activity.svg" alt="task-activity">
                                        </div>
                                        <div class="right-co-all-tast">
                                                <div class="first-row-main-task">
                                                    <div class="first-left-task">
                                                        <span class="graytitle">Task - Created by</span>
                                                        <span class="specified-name">Joh Doe</span>
                                                    </div>
                                                    <div class="first-right-time-during">23/04/2021 - 23/06/2021</div>
                                                </div> 
                                                <div class="comman-rows-name">
                                                    <div class="comman-label">Task Name:</div>
                                                    <div class="comman-value">Test Task</div>
                                                </div>
                                                <div class="comman-rows-name">
                                                    <div class="comman-label">Task Description:</div>
                                                    <div class="comman-value">Lorem Ipsum has been the industry's standard dummy text ever since the 1500s, when an unknown printer took a galley of type and scrambled it to make a type specimen book. It has survived not only five centuries</div>
                                                </div>
                                                <div class="assignee-main">
                                                    <div class="assigne-left">
                                                        <div class="comman-label">Assignee:</div>
                                                        <div class="grid-name-plate">
                                                                <div class="comman-circle-main">JD</div>
                                                                <div class="comman-circle-main">J</div>
                                                                <div class="comman-circle-main">+5</div>
                                                        </div>
                                                    </div>
                                                    <div class="assigne-right">
                                                        <div class="comman-label">Priority:</div>
                                                        <div class="comman-status low">Low</div>
                                                    </div>
                                                </div>
                                                <div class="assigne-attachments">
                                                    <div class="comman-label">Attachment :</div>
                                                    <div class="comman-pdf-main">
                                                        <img src="../../../../assets/images/pdf-main.svg" alt="pdf">
                                                        <span class="file-name">QR code file.pdf</span>
                                                        <span class="file-size">(120K)</span>
                                                    </div>

                                                </div>
                                        </div>
                                </div> -->

                            </div>


                    

                            <app-placeholders [flag]="4" *ngIf="myModel?.tasks?.length === 0 && !activityLoader">
                            </app-placeholders>
                            <app-loader [showLoader]="activityLoader" [length]="myModel?.tasks?.length"></app-loader>
                            <!-- <app-task-list [allData]="myModel?.tasks" [hideContactName]="true"></app-task-list> -->

                        </div>
                    </div>
                </ng-container>

                <ng-container *ngIf="moreSection === 'notes'">
                    <app-note-list [allData]="myModel?.notes" [contactId]="selected._id" style=" width: 100%;"
                        (finalSubmit)="notesDetails()">
                    </app-note-list>
                </ng-container>

            </ng-container>
            <!--more ended-->

            <!--   activity -->
            <ng-container *ngIf="activeIcon === 1">

                <div class="contact-pipeline">
                    <h5 class="header" *ngIf="myModel?.dealData?.length"> Pipeline deals
                        <span class="deal-count">Showing {{myModel?.dealData?.length}} deals</span>
                    </h5>

                    <div class="deal-container" *ngFor="let data of myModel?.dealData">
                        <div class="card">
                            <div class="deal-stage contact-deal">
                                <div class="deal-header">
                                    <p class="name">{{data?.name}}</p>
                                    <!--   <button type="button" class="button text-button"> Open</button>-->
                                </div>
                                <div class="deal-stages">
                                    <div class="deal-details">
                                        <p class="pipeline-name"> Current pipeline: {{data?.pipelineId?.name}} </p>
                                        <div class="deal-amount"> US {{data?.dealValue |currency}}</div>
                                    </div>
                                    <div class="deal-stage-details">
                                        <div class="select-stage multiselect">
                                            <app-contact-pipeline [pipelines]="myModel?.pipelines"
                                                (selectedData)="optionSelected($event,data)">
                                            </app-contact-pipeline>
                                        </div>
                                        <div *ngIf="data?.nextData">
                                            <a class="text-button" (click)="moveToNext(data)">Move to next stage
                                                <svg class="icon" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"
                                                    id="arrow-long-right">
                                                    <path
                                                        d="M17.707 6.293l5 5c.029.028.055.059.08.09l-.08-.09a1.008 1.008 0 0 1 .292.675L23 12v.033l-.004.052L23 12a1.008 1.008 0 0 1-.22.625l-.073.082-5 5a1 1 0 0 1-1.414-1.414L19.584 13H2a1 1 0 1 1 0-2h17.586l-3.293-3.293a1 1 0 0 1 1.414-1.414z"
                                                        fill-rule="evenodd"></path>
                                                </svg>
                                            </a>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>

                </div>

                <div class="email-section Contact-Activity-inner">
                    <h5 class="email-title">Contact Activity</h5>
                    <app-loader [showLoader]="activityLoader" [length]="myModel?.activities?.length"></app-loader>
                    <app-activity-list [allData]="myModel?.activities"></app-activity-list>
                    <app-placeholders [flag]="4" *ngIf="myModel?.activities?.length === 0"></app-placeholders>
                </div>
            </ng-container>
            <!--     activity ended-->

            <!-- details  edit-->
            <div class="detai_section Contact-Activity-inner" *ngIf="activeIcon === 2">
                <ng-container *ngIf="isEdit">
                    <form [formGroup]="form" (ngSubmit)="editContact()" autocomplete="off">
                        <div class="custom-class" style="margin-bottom: 10px;">
                            <h5 class="headings-main">Personal Details</h5>
                            <div class="right-btns-rows">
                                <button type="button" class="btn btn-link text-button" (click)="isEdit = false;this.getDetails();
                                    multiPhoneNumber.clear() ">Cancel
                                </button>
                                <button type="submit" class="btn btn-outline-primary">Save</button>
                            </div>
                        </div>
                        <section class="contact-details-section">
                            <section>
                                <h5 class="">General Information </h5>
                                <div class="field-grid editing">
                                    <div  *ngIf="form?.controls?.title || form?.controls?.suffix" class="btn-group add-btn select-opt" dropdown>
                                        <mat-form-field appearance="outline" class="select-height">
                                            <mat-label>Title</mat-label>
                                            <mat-select formControlName="title">
                                                <mat-option *ngFor="let title of titles" [value]="title">
                                                    {{title}}
                                                </mat-option>
                                            </mat-select>
                                        </mat-form-field>
                                    </div>
                                    <div class="input-field">
                                        <mat-form-field class="full-width" appearance="outline"
                                            hintLabel="Max 26 characters">
                                            <mat-label class="required">First Name</mat-label>
                                            <input matInput placeholder="Enter first name" type="text"
                                                formControlName="firstName" maxlength="26" #fname>
                                            <mat-error *ngIf="form.controls['firstName'].hasError('required')">
                                                Please enter first name.
                                            </mat-error>
                                            <mat-hint align="end">{{fname.value?.length || 0}}/26</mat-hint>
                                        </mat-form-field>
                                    </div>

                                    <div  *ngIf="form?.controls?.title || form?.controls?.suffix" class="input-field">
                                        <mat-form-field class="full-width" appearance="outline">
                                            <mat-label>Middle Name</mat-label>
                                            <input matInput placeholder="Enter middle name" type="text"
                                                formControlName="middleName">
                                            <mat-error *ngIf="form.controls['middleName'].hasError('required')">
                                                Please enter first name.
                                            </mat-error>
                                        </mat-form-field>
                                    </div>
                                    <!-- <div class="input-field" *ngIf="form?.controls?.middleName">
                                        <mat-form-field class="full-width" appearance="outline">
                                            <mat-label>Middle Name</mat-label>
                                            <input matInput placeholder="Enter middle name" type="text"
                                                   formControlName="middleName">
                                        </mat-form-field>
                                    </div> -->
                                    <div class="input-field">
                                        <mat-form-field class="full-width" appearance="outline"
                                            hintLabel="Max 26 characters">
                                            <mat-label class="required">Last Name</mat-label>
                                            <input matInput placeholder="Enter last name" type="text"
                                                formControlName="lastName" maxlength="26" #lname>
                                            <mat-error *ngIf="form.controls['lastName'].hasError('required')">
                                                Please enter last name.
                                            </mat-error>
                                            <mat-hint align="end">{{lname.value?.length || 0}}/26</mat-hint>
                                        </mat-form-field>
                                    </div>
                                    <div class="input-field">
                                        <mat-form-field class="full-width" appearance="outline">
                                            <mat-label>Company name</mat-label>
                                            <input matInput placeholder="Company name" type="text"
                                                formControlName="company">
                                        </mat-form-field>
                                    </div>
                                    <div class="input-field">
                                        <mat-form-field class="full-width" appearance="outline">
                                            <mat-label>Job title</mat-label>
                                            <input matInput placeholder="Job title" type="text"
                                                formControlName="jobTitle">
                                        </mat-form-field>
                                    </div>
                                </div>
                                <!-- -------Old-code------------------- -->
                                <!-- <div class="add_field">
                                    <div class="btn-group" dropdown>
                                        <a dropdownToggle class=" dropdown-toggle" aria-controls="dropdown-basic">
                                            + Add a field
                                        </a>
                                        <ul id="dropdown-basic" *dropdownMenu class="dropdown-menu" role="menu"
                                            aria-labelledby="button-basic">
                                            <li role="menuitem" *ngFor="let val of detailsOptions;let i= index">
                                                <a class="dropdown-item"
                                                   (click)="clickOption(detailsOptions,i)">{{val?.name}}</a>
                                            </li>
                                        </ul>
                                    </div>
                                </div> -->
                            </section>
                        </section>

                        <section class="contact-details-section">
                            <section>
                                <h5>Phone and email</h5>

                                <ng-container formArrayName="multiPhoneNumber"
                                    *ngFor="let item of multiPhoneNumber.controls; let i = index; let last = last;">

                                    <div class="field-grid editing" [formGroupName]="i">
                                        <div class="input-field">
                                            <mat-form-field class="full-width" appearance="outline">
                                                <mat-label>Phone</mat-label>
                                                <input matInput placeholder="Phone" type="tel" appNumberOnly
                                                    formControlName="phoneNumber" maxlength="15" minlength="10">
                                            </mat-form-field>
                                        </div>

                                        <div class="input-field delete-field">
                                            <div class="btn-group add-btn select-opt" dropdown>
                                                <mat-form-field appearance="outline" class="select-height">
                                                    <mat-label>Type</mat-label>
                                                    <mat-select formControlName="type">
                                                        <mat-option *ngFor="let type of http.CONSTANT.phoneTypes"
                                                            [value]="type">{{type}}
                                                        </mat-option>
                                                    </mat-select>
                                                </mat-form-field>
                                            </div>
                                            <img class="del_field_ic" src="/assets/images/close.svg"
                                                (click)="multiPhoneNumber.removeAt(i)">
                                        </div>

                                    </div>
                                </ng-container>
                                <div class="add_field">
                                    <a (click)="addPhoneItem()" class="btn btn-link">+ Add a phone</a>
                                </div>

                            </section>
                        </section>

                        <div class="field-grid editing" *ngIf="form.controls.email">
                            <div class="input-field delete-field">
                                <mat-form-field class="full-width" appearance="outline">
                                    <mat-label>Business email</mat-label>
                                    <input matInput type="text" formControlName="email" placeholder="Business Email"
                                        (change)="patternCheck('email')">
                                </mat-form-field>
                                <img class="del_field_ic" src="/assets/images/close.svg" (click)="removeEmail('email')">
                            </div>
                        </div>

                        <div class="field-grid editing" *ngIf="form.controls.personalEmail">
                            <div class="input-field delete-field">
                                <mat-form-field class="full-width" appearance="outline">
                                    <mat-label>Personal email</mat-label>
                                    <input matInput type="text" formControlName="personalEmail"
                                        placeholder="Personal email" (change)="patternCheck('personalEmail')">
                                </mat-form-field>
                                <img src="/assets/images/close.svg" class="del_field_ic"
                                    (click)="removeEmail('personalEmail')">
                            </div>

                        </div>

                        <div class="field-grid editing" *ngIf="form.controls.otherEmail">
                            <div class="input-field delete-field">
                                <mat-form-field class="full-width" appearance="outline">
                                    <mat-label>Other email</mat-label>
                                    <input matInput type="text" formControlName="otherEmail" placeholder="Other email"
                                        (change)="patternCheck('otherEmail')">
                                </mat-form-field>
                                <img src="/assets/images/close.svg" class="del_field_ic"
                                    (click)="removeEmail('otherEmail')">
                            </div>

                        </div>


                        <div class="row">

                            <div class="col-md-12" *ngIf="emailOptions.length > 0">
                                <div class="btn-group add_field" dropdown>
                                    <a dropdownToggle class=" dropdown-toggle" aria-controls="dropdown-basic">
                                        + Add an email
                                    </a>
                                    <ul id="dropdown-basic" *dropdownMenu class="dropdown-menu" role="menu"
                                        aria-labelledby="button-basic">
                                        <li role="menuitem" *ngFor="let val of emailOptions;let i= index">
                                            <a class="dropdown-item"
                                                (click)="clickOption(emailOptions,i)">{{val?.name}}</a>
                                        </li>
                                    </ul>
                                </div>
                            </div>
                        </div>

                        <br>
                        <br class="clearfix">
                        <section class="contact-details-section">
                            <section>
                                <h5>Addresses</h5>
                                <div class="input-field width-address">
                                    <mat-form-field class="full-width" appearance="outline">
                                        <mat-label>Address</mat-label>
                                        <input matInput type="text" [(ngModel)]="billingAddress.address"
                                            [ngModelOptions]="{standalone: true}"
                                            (addressSelect)="addressDetails($event)" appGoogleplace
                                            onkeydown="return (event.keyCode!==13);">
                                    </mat-form-field>
                                </div>

                                <!-- <div class="input-field">
                                    <mat-form-field class="full-width" appearance="outline">
                                        <mat-label>Apt/Suite/Other</mat-label>
                                        <input matInput type="text" [(ngModel)]="billingAddress.other"
                                            [ngModelOptions]="{standalone: true}">
                                    </mat-form-field>
                                </div> -->
                                <div class="field-grid editing">
                                    <div class="input-field btn-group add-btn select-opt">
                                        <mat-form-field class="full-width select-height" appearance="outline">
                                            <mat-label>Select Country</mat-label>
                                            <mat-select (selectionChange)="countryList(billingAddress.country)"
                                                [(ngModel)]="billingAddress.country" [ngModelOptions]="{standalone: true}">
                                                <mat-option *ngFor="let val of myModel?.countries"
                                                    [value]="val.country_name">
                                                    {{val?.country_name}}</mat-option>
                                            </mat-select>
                                        </mat-form-field>
                                    </div>

                                    <div class="input-field">
                                        <mat-form-field class="full-width" appearance="outline">
                                            <mat-label>City</mat-label>
                                            <input matInput type="text" [(ngModel)]="billingAddress.city"
                                                [ngModelOptions]="{standalone: true}">
                                        </mat-form-field>
                                    </div>
                                </div>
                                <div class="field-grid editing">
                                    <div class="input-field btn-group add-btn select-opt">
                                        <mat-form-field class="full-width select-height" appearance="outline">
                                            <mat-label>State</mat-label>
                                            <mat-select [(ngModel)]="billingAddress.state"
                                                [ngModelOptions]="{standalone: true}">
                                                <mat-option *ngFor="let val of myModel?.states"
                                                    [value]="val.state_name">{{val?.state_name}}</mat-option>
                                            </mat-select>
                                        </mat-form-field>
                                    </div>
                                    <!--                                    <div class="input-field">-->
                                    <!--                                        <mat-form-field class="full-width" appearance="outline">-->
                                    <!--                                            <mat-label>State</mat-label>-->
                                    <!--                                            <input matInput type="text"-->
                                    <!--                                                   [(ngModel)]="billingAddress.state"-->
                                    <!--                                                   [ngModelOptions]="{standalone: true}">-->
                                    <!--                                        </mat-form-field>-->
                                    <!--                                    </div>-->
                                    <!--                                    -->

                                    <div class="input-field">
                                        <mat-form-field class="full-width" appearance="outline">
                                            <mat-label>Zip Code</mat-label>
                                            <input matInput type="text" [(ngModel)]="billingAddress.zipCode"
                                                [ngModelOptions]="{standalone: true}" maxlength="7" appNumberOnly="">
                                        </mat-form-field>
                                    </div>
                                </div>
                                <!--                                <div class="add_field">-->
                                <!--                                    <a (click)="addAddressItem()" class="btn btn-link">+ Add an address</a>-->
                                <!--                                </div>-->
                            </section>
                        </section>

                        <br>
                        <br class="clearfix">

                        <section class="contact-details-section">
                            <section>
                                <h5>Advanced</h5>
                                <div class="delet-btn">
                                    <button class="btn btn-outline-danger" type="button" (click)="deleteFun()">
                                        Delete
                                    </button>

                                </div>
                            </section>
                        </section>
                    </form>

                </ng-container>

                <ng-container *ngIf="!isEdit">
                    <div class="custom-class">
                        <h5 class="headings-main">Personal Details</h5>
                        <div class="right-btns-rows" style="margin-bottom: 10px;">
                            <button type="button" class="btn text-button" (click)="fillValues();isEdit = true">Edit
                            </button>
                        </div>
                    </div>
                    <section class="contact-details-section">
                        <section>
                            <h5>General Information</h5>
                            <div class="field-grid">
                                <div class="view-field">
                                    <small>Title</small>
                                    <span>{{selected?.title}}</span>
                                </div>
                                <div class="view-field">
                                    <small>First name</small>
                                    <span>{{selected?.firstName}}</span>
                                </div>
                                <div class="view-field">
                                    <small>Middle name</small>
                                    <span>{{selected?.middleName}}</span>
                                </div>
                                <div class="view-field">
                                    <small>Last name</small>
                                    <span>{{selected?.lastName}}</span>
                                </div>

                                <!-- <div class="view-field" *ngIf="selected?.suffix">
                                    <small>Suffix</small>
                                    <span>{{selected?.suffix}}</span>
                                </div> -->

                                <div class="view-field" *ngIf="selected?.company">
                                    <small>Company name</small>
                                    <span>{{selected?.company}}</span>
                                </div>
                                <div class="view-field" *ngIf="selected?.jobTitle">
                                    <small>Job title</small>
                                    <span>{{selected?.jobTitle}}</span>
                                </div>

                                <!--<div class="view-field">-->
                                <!--<small>Owner</small>-->
                                <!--<span>Admin</span>-->
                                <!--</div>-->
                            </div>
                        </section>
                    </section>

                    <section class="contact-phone-email contact-details-section">
                        <section>
                            <h5>Phone and Email</h5>

                            <div class="field-grid">
                                <div class="view-field" *ngFor="let data of selected?.multiPhoneNumber">
                                    <small>{{data?.type}}</small>
                                    <span>
                                        (+1) {{data?.phoneNumber}}</span>
                                </div>
                            </div>

                            <div class="field-grid mt-3" *ngIf="selected?.email">
                                <div class="view-field">
                                    <small>Work email</small>
                                    <span>{{selected?.email}}</span>
                                </div>
                            </div>

                        </section>
                    </section>


                    <section class="contact-phone-email contact-details-section"
                        *ngIf="selected?.billingAddress?.address">
                        <section>
                            <h5>Address</h5>
                            <div class="field-grid">
                                <div class="view-field">
                                    <div>
                                        {{selected?.billingAddress?.address}}
                                        <ng-container *ngIf="selected?.billingAddress?.other">
                                            , {{selected?.billingAddress?.other}}
                                        </ng-container>
                                    </div>
                                    <br>
                                    <div> {{selected?.billingAddress?.city}}
                                        <ng-container *ngIf="selected?.billingAddress?.country">
                                            , {{selected?.billingAddress?.country}}
                                        </ng-container>
                                    </div>
                                    <br>
                                    <div>
                                        <ng-container *ngIf="selected?.billingAddress?.zipCode">
                                            {{selected?.billingAddress?.zipCode}}
                                        </ng-container>
                                    </div>

                                </div>
                            </div>
                        </section>
                    </section>


                </ng-container>

            </div>
            <!-- details -->
            <!--            email history-->
            <div class="email-section-tab Contact-Activity-inner animated slideInBottom email-section"
                *ngIf="activeIcon === 3">
                <div class="row email-sections">
                    <div class="col-md-6">
                        <h5 class="email-title">Email History</h5>
                    </div>
                    <div class="col-md-6 text-right">
                        <button class="btn btn-outline-primary" (click)="openEmailModal()">New Email</button>
                    </div>
                </div>
                <app-loader [showLoader]="activityLoader" [length]="myModel?.emails?.length"></app-loader>

                <app-placeholders *ngIf="myModel?.emails?.length === 0" [flag]="3">
                </app-placeholders>

                <ng-container *ngFor="let data of myModel?.emails">
                    <div class="email-sent-title-main">
                        <h5 class="email-title">{{data?._id | date:http.CONSTANT.dateFormat}}</h5>

                    </div>
                    <ng-container *ngFor="let val of data?.data">
                        <ul class="activity-item email-activity-news">
                            <li  (click)="http.openModal('emailDetail', val.content)">
                                <div class="icon-div">  
                                    <svg width="25" height="17" viewBox="0 0 25 17" fill="none" xmlns="http://www.w3.org/2000/svg">
                                        <path d="M1.23492 16.658H24.2575C24.3729 16.658 24.4835 16.6122 24.5651 16.5307C24.6466 16.4491 24.6925 16.3385 24.6925 16.2231V1.23492C24.6925 1.11957 24.6466 1.00895 24.5651 0.927388C24.4835 0.845823 24.3729 0.8 24.2575 0.8H1.23492C1.11958 0.8 1.00895 0.845822 0.927386 0.927386C0.845822 1.00895 0.8 1.11958 0.8 1.23492V16.2231C0.8 16.3385 0.845822 16.4491 0.927386 16.5307C1.00895 16.6122 1.11958 16.658 1.23492 16.658ZM23.8226 1.66985V15.7882H1.66985V1.66985H23.8226Z" fill="#2A2A2A" stroke="#2A2A2A" stroke-width="0.4"/>
                                        <path d="M1.51799 0.904706L1.51799 0.904705L24.5406 1.56517L24.5405 1.56526C24.628 1.4903 24.6822 1.38366 24.6912 1.26877C24.7001 1.15377 24.6631 1.03991 24.5881 0.952243C24.5131 0.864579 24.4064 0.81029 24.2914 0.801318C24.1764 0.792346 24.0625 0.829427 23.9748 0.9044L23.9745 0.904706L14.3896 9.14116L14.3888 9.14179C13.933 9.53732 13.3498 9.75509 12.7462 9.75509C12.1427 9.75509 11.5595 9.53732 11.1036 9.14179L11.1029 9.14116L1.51799 0.904706ZM14.9561 9.80126L24.5402 1.56547L0.952035 1.56529C0.952104 1.56535 0.952173 1.56541 0.952242 1.56547L10.5363 9.80119C10.5364 9.80129 10.5365 9.80138 10.5366 9.80148C11.1504 10.3323 11.9346 10.6247 12.7461 10.6252L12.7465 10.6252C13.5578 10.6242 14.3418 10.3319 14.9557 9.80157L14.9557 9.80162L14.8253 9.64993L14.9561 9.80126Z" fill="#2A2A2A" stroke="#2A2A2A" stroke-width="0.4"/>
                                        <path d="M24.2566 16.658L24.2597 16.658C24.3482 16.6571 24.4344 16.6292 24.5067 16.5781C24.5789 16.5269 24.6339 16.4549 24.6641 16.3717C24.6944 16.2885 24.6985 16.198 24.676 16.1124C24.6535 16.0268 24.6053 15.9501 24.538 15.8925L24.537 15.8917L15.7421 8.47024C15.701 8.43104 15.6526 8.40025 15.5996 8.37964C15.5437 8.35787 15.4838 8.34792 15.4238 8.35043C15.3638 8.35293 15.305 8.36783 15.2511 8.39418C15.1971 8.42053 15.1492 8.45777 15.1104 8.50355C15.0715 8.54933 15.0426 8.60265 15.0253 8.66017C15.0081 8.71769 15.003 8.77815 15.0102 8.83774C15.0175 8.89734 15.0371 8.95479 15.0677 9.00646C15.0967 9.05557 15.1351 9.09846 15.1807 9.13271L23.976 16.5568L23.976 16.5569L23.9801 16.5602C24.0586 16.623 24.156 16.6574 24.2566 16.658Z" fill="#2A2A2A" stroke="#2A2A2A" stroke-width="0.4"/>
                                        <path d="M1.23259 16.658L1.23567 16.658C1.33623 16.6574 1.43366 16.623 1.51218 16.5602L1.51223 16.5602L1.51627 16.5568L10.3115 9.13271C10.3571 9.09846 10.3955 9.05557 10.4246 9.00646C10.4552 8.95479 10.4747 8.89734 10.482 8.83774C10.4893 8.77815 10.4842 8.71769 10.4669 8.66017C10.4497 8.60265 10.4208 8.54933 10.3819 8.50355L10.3819 8.50355C10.3431 8.45777 10.2952 8.42053 10.2412 8.39418C10.1873 8.36783 10.1284 8.35293 10.0684 8.35043C10.0085 8.34792 9.94859 8.35787 9.89264 8.37963C9.83965 8.40025 9.79124 8.43104 9.75014 8.47024L0.955227 15.8917L0.955224 15.8917L0.954235 15.8925C0.886937 15.9501 0.838805 16.0268 0.816272 16.1124C0.793739 16.198 0.797879 16.2885 0.828138 16.3717C0.858397 16.4549 0.913334 16.5269 0.985609 16.5781C1.05788 16.6292 1.14405 16.6571 1.23259 16.658Z" fill="#2A2A2A" stroke="#2A2A2A" stroke-width="0.4"/>
                                        </svg>
                                </div> 
                                <div class="title"><b>Email sent</b> by <span
                                        class="semibold">{{val.addedBy?.email}}</span><span
                                        class="time">{{val?.createdAt | date:'hh:mm a'}}</span></div>
                                <div class="task-activity-item"><span>Subject:</span> {{val?.content?.subject}}
                                </div>


                                <!-- <div class="btn-group view-email" dropdown>
                                    <button dropdownToggle type="button" class="btn dropdown-toggle"
                                        aria-controls="dropdown-basic">
                                        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"
                                            id="more-horizontal">
                                            <circle cx="5" cy="12" r="2"></circle>
                                            <circle cx="12" cy="12" r="2"></circle>
                                            <circle cx="19" cy="12" r="2"></circle>
                                        </svg>
                                    </button>
                                    <ul *dropdownMenu class="dropdown-menu" role="menu" aria-labelledby="button-basic">
                                        <li role="menuitem">
                                            <a class="dropdown-item"
                                                (click)="http.openModal('emailDetail', val.content)">
                                                View Email</a>
                                        </li>

                                    </ul>
                                </div> -->
                            </li>
                        </ul>
                    </ng-container>
                </ng-container>
            </div>
            <!--            email history ended-->

            <!--                 more-->

            <!--                 more ended-->


        </div>


        <div class="tab-pane fade" id="v-pills-messages" role="tabpanel" aria-labelledby="v-pills-messages-tab">
            messages
        </div>
        <div class="tab-pane fade" id="v-pills-settings" role="tabpanel" aria-labelledby="v-pills-settings-tab">
            settings
        </div>
    </div>
</div>